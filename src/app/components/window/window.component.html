<div class="window" #win (mousemove)="onDrag($event, win)" (mouseup)="stopDrag()" (mouseleave)="stopDrag()">

    <!-- Barra de tÃ­tulo -->
    <div class="window-header" (mousedown)="startDrag($event)">
        <span class="window-title">{{ title }}</span>
        <div class="window-actions">
            <button (click)="toggleMaximize(win)">
                {{ maximized ? 'ðŸ——' : 'ðŸ—–' }}
            </button>
            <button (click)="close.emit()">âœ–</button>
        </div>
    </div>

    <!-- Cuerpo de la ventana -->
    <div class="window-body">
        <ng-content>
            <!-- AquÃ­ se inserta el contenido dinÃ¡mico de la ventana -->
            <!-- Puedes usar <ng-content> para proyectar contenido desde el componente padre -->
        </ng-content>
    </div>

</div>


<!-- #win es una template reference variable.
ðŸ‘‰ Le da un nombre (win) al elemento HTML <div class="window"> para que lo puedas usar dentro del componente.
ðŸ“Œ Es como decir:
â€œEste div se va a llamar win dentro del HTML, y lo puedo pasar como argumento a funcionesâ€. 

Â¿Por quÃ© pasar win como argumento?
Porque dentro de la funciÃ³n onDrag(event, win), necesitas acceder al DOM de la ventana para moverla usando estilos:

    win.style.left = `${newLeft}px`;
    win.style.top = `${newTop}px`;

Estos eventos ((mousemove), (mouseup), (mouseleave)) capturan el movimiento del mouse mientras arrastras la ventana:
Evento	Â¿QuÃ© hace?
(mousemove)	Detecta movimiento del mouse y llama a onDrag() para mover la ventana.
(mouseup)	Finaliza el movimiento (cuando sueltas el botÃ³n del mouse).
(mouseleave)	Lo mismo que mouseup, pero en caso de que el mouse salga del div sin soltar.
-->