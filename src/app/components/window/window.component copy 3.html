<div class="window" #win (mousemove)="onDrag($event, win)" (mouseup)="stopDrag()" (mouseleave)="stopDrag()">

    <!-- Barra de t√≠tulo -->
    <div class="window-header" (mousedown)="startDrag($event)">

        <!-- Primera fila: Botones de ventana (cerrar, minimizar, etc.) -->
        <div class="header-top">
            <div class="window-actions">
                <button (click)="minimize.emit()">‚àí</button>
                <button (click)="toggleMaximize(win)">
                    {{ maximized ? 'üóó' : 'üóñ' }}
                </button>
                <button (click)="close.emit()">‚úñ</button>
            </div>
        </div>

        <!-- Segunda fila: Navegaci√≥n -->
        <div class="header-bottom">

            <!-- Columna 1: Botones adelante / atr√°s -->
            <div class="nav-buttons">
                <button>‚¨Ö</button>
                <button>‚û°</button>
            </div>

            <!-- Columna 2: T√≠tulo + barra de navegaci√≥n -->
            <div class="nav-center">

                <div class="title">
                    <span class="window-title">{{ title }}</span>
                </div>


                <div class="address-bar" (click)="handleAddressClick($event)">


                    <!-- para los breadcum y el input -->
                    <div class="address-bar-s1">
                        <ng-container *ngIf="!isEditingAddress; else editingMode">
                            <!-- Breadcrumb visible -->
                            <div class="breadcrumb-node" id="node-pc">
                                <span class="node-label">Mi PC</span>
                                <img class="node-arrow" src="./icons/btn/caret-right-solid-w.svg" alt="Abrir">
                                <div class="breadcrumb-dropdown">
                                    <ul>
                                        <li><a href="#"> <img src="./icons/location-icon-sm/desktop.png" alt="">
                                                Desktop</a>
                                        </li>
                                        <li><a href="#"> <img src="./icons/location-icon-sm/document-open.png"
                                                    alt="">Documents</a></li>
                                        <li><a href="#"> <img src="./icons/location-icon-sm/computer.png"
                                                    alt="">Computer</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>

                            <div class="breadcrumb-node" id="node-contactos">
                                <span class="node-label">Contactos</span>
                                <img class="node-arrow" src="./icons/btn/caret-right-solid-w.svg" alt="Abrir">
                                <div class="breadcrumb-dropdown">
                                    <ul>
                                        <li><a href="#">Documentos</a></li>
                                        <li><a href="#">M√∫sica</a></li>
                                        <li><a href="#">Im√°genes</a></li>
                                        <li><a href="#"><b>Contactos</b></a></li>
                                        <li><a href="#">Videos</a></li>
                                        <li><a href="#">Mi PC</a></li>
                                    </ul>
                                </div>
                            </div>

                            <div class="breadcrumb-btn-list">
                                <button class="breadcrumb-toggle-btn" id="toggle-dir-dropdown">
                                    <img class="node-arrow" src="/assets/icons/btn/caret-down-solid.svg" alt="Abrir">
                                </button>

                                <div class="breadcrumb-dropdown-dir">
                                    <ul>
                                        <li><a href="#">Docdddddumentos</a></li>
                                        <li><a href="#">M√∫sica</a></li>
                                        <li><a href="#">Im√°genes</a></li>
                                        <li><a href="#"><b>Contactos</b></a></li>
                                        <li><a href="#">Videos</a></li>
                                        <li><a href="#">Mi PC</a></li>
                                    </ul>
                                </div>
                            </div>
                        </ng-container>

                        <!-- Editable input -->
                        <ng-template #editingMode>
                            <div class="address-edit-wrapper">
                                <input type="text" [(ngModel)]="editablePath" class="address-input"
                                    (click)="$event.stopPropagation()" />

                            </div>
                        </ng-template>

                    </div>


                </div>

            </div>
            <!-- Fin Columna 2 -->

            <!-- Columna 3: Iconos de favoritos -->
            <div class="favorites">
                <button>üìÅ</button>
                <button>üîç</button>
                <button>‚≠ê</button>
            </div>

        </div>
        <!-- Fin Segunda Fila -->

    </div>
    <!-- Fin Barra de t√≠tulo -->

    <div class="window-body">
        <!-- Aqu√≠ se inserta el componente din√°mico -->
        <ng-template #contentContainer></ng-template>
    </div>


</div>

<!-- #win es una template reference variable.
üëâ Le da un nombre (win) al elemento HTML <div class="window"> para que lo puedas usar dentro del componente.
üìå Es como decir:
‚ÄúEste div se va a llamar win dentro del HTML, y lo puedo pasar como argumento a funciones‚Äù. 

¬øPor qu√© pasar win como argumento?
Porque dentro de la funci√≥n onDrag(event, win), necesitas acceder al DOM de la ventana para moverla usando estilos:

    win.style.left = `${newLeft}px`;
    win.style.top = `${newTop}px`;

Estos eventos ((mousemove), (mouseup), (mouseleave)) capturan el movimiento del mouse mientras arrastras la ventana:
Evento	¬øQu√© hace?
(mousemove)	Detecta movimiento del mouse y llama a onDrag() para mover la ventana.
(mouseup)	Finaliza el movimiento (cuando sueltas el bot√≥n del mouse).
(mouseleave)	Lo mismo que mouseup, pero en caso de que el mouse salga del div sin soltar.
-->