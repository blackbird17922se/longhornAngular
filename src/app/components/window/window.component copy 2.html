<div class="window" #win (mousemove)="onDrag($event, win)" (mouseup)="stopDrag()" (mouseleave)="stopDrag()">

    <!-- Barra de t√≠tulo -->
    <div class="window-header" (mousedown)="startDrag($event)">

        <!-- Primera fila: Botones de ventana (cerrar, minimizar, etc.) -->
        <div class="header-top">
            <div class="window-actions">
                <button (click)="minimize.emit()">‚àí</button>
                <button (click)="toggleMaximize(win)">
                    {{ maximized ? 'üóó' : 'üóñ' }}
                </button>
                <button (click)="close.emit()">‚úñ</button>
            </div>
        </div>

        <!-- Segunda fila: Navegaci√≥n -->
        <div class="header-bottom">

            <!-- Columna 1: Botones adelante / atr√°s -->
            <div class="nav-buttons">
                <button>‚¨Ö</button>
                <button>‚û°</button>
            </div>

            <!-- Columna 2: T√≠tulo + barra de navegaci√≥n -->
            <!-- Barra de navegaci√≥n -->
            <div class="nav-center">

                <!-- T√≠tulo -->
                <div class="title">
                    <span class="window-title">{{ title }}</span>
                </div>

                <!-- Direccionador -->
                <div class="address-bar" *ngIf="!isEditingAddress" (clickOutside)="isEditingAddress = true">
                    <ng-container *ngFor="let node of breadcrumbPath; let i = index">
                        <div class="breadcrumb-node" (mouseenter)="hovered = i" (mouseleave)="hovered = null">
                            <span class="node-label">{{ node.label }}</span>

                            <img *ngIf="node.dropdown" class="node-arrow" src="/icons/btn/caret-right-solid-w.svg"
                                (click)="toggleDropdown(i, $event)" />

                            <!-- Dropdown -->
                            <div *ngIf="dropdownIndex === i" class="breadcrumb-dropdown">
                                <ul>
                                    <li *ngFor="let item of node.dropdown">
                                        <a href="#" (click)="navigateTo(item)">{{ item }}</a>
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <span *ngIf="i < breadcrumbPath.length - 1">&nbsp;>&nbsp;</span>
                    </ng-container>

                    <!-- Bot√≥n final -->
                    <button class="breadcrumb-toggle-btn" (click)="toggleFullDropdown($event)">
                        ‚ñº
                    </button>

                    <div *ngIf="showFullDropdown" class="breadcrumb-dropdown-dir">
                        <ul>
                            <li *ngFor="let item of allLocations"><a href="#">{{ item }}</a></li>
                        </ul>
                    </div>
                </div>

                <!-- Modo edici√≥n -->
                <div class="address-bar" *ngIf="isEditingAddress">
                    <input type="text" [(ngModel)]="editablePath" (blur)="isEditingAddress = false"
                        (keydown.enter)="applyPath()" />
                    <button (click)="isEditingAddress = false">üîÑ</button>
                </div>
            </div>

            <!-- Fin Columna 2 -->

            <!-- Columna 3: Iconos de favoritos -->
            <div class="favorites">
                <button>üìÅ</button>
                <button>üîç</button>
                <button>‚≠ê</button>
            </div>

        </div>
        <!-- Fin Segunda Fila -->

    </div>
    <!-- Fin Barra de t√≠tulo -->

    <div class="window-body">
        <!-- Aqu√≠ se inserta el componente din√°mico -->
        <ng-template #contentContainer></ng-template>
    </div>


</div>


<!-- #win es una template reference variable.
üëâ Le da un nombre (win) al elemento HTML <div class="window"> para que lo puedas usar dentro del componente.
üìå Es como decir:
‚ÄúEste div se va a llamar win dentro del HTML, y lo puedo pasar como argumento a funciones‚Äù. 

¬øPor qu√© pasar win como argumento?
Porque dentro de la funci√≥n onDrag(event, win), necesitas acceder al DOM de la ventana para moverla usando estilos:

    win.style.left = `${newLeft}px`;
    win.style.top = `${newTop}px`;

Estos eventos ((mousemove), (mouseup), (mouseleave)) capturan el movimiento del mouse mientras arrastras la ventana:
Evento	¬øQu√© hace?
(mousemove)	Detecta movimiento del mouse y llama a onDrag() para mover la ventana.
(mouseup)	Finaliza el movimiento (cuando sueltas el bot√≥n del mouse).
(mouseleave)	Lo mismo que mouseup, pero en caso de que el mouse salga del div sin soltar.
-->